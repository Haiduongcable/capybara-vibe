this is I expect from capybara coding cli: 

Backend: 
agent architecture: agent - sub agent 
agent run as normal. 
In some complex task -> agent decide to create todo list, if not complex task, agent can running like normal (for example complex repo, complex user query, ...)
In todo list, with each task: agent decide to do it by it self, or delegate to sub agent (delate via tool call)
    If task to sub agent (main agent should tell subagent some context more about task (message string))
    sub agent doing task -> sub agent done task -> return message to main agent (the message enought context about task: which file chagne, search, read, doing, ...? )
    (agent wait to subagent done the delegate task to get the summarization message from subagent)...
    (make agent as simple as possible)
    Just agent with list tools, when it think task is complex -> call todo list, .... (don't need any decision or score)

The cli UI: 
just running like normal flow, but when agent create todo list  -> print the current status of todo list (I don't need separate todo vs agent process anymore (hard to debug)), if todo list change something -> re print. 
The cli UI need show the communication between agent and sub agent, if sub agent running -> show the process of sub agent 

the logger: 
Just 1 concentrate log for each session (1 session is when user start terminal capyabara chat) the log contain: everything that current log. 


